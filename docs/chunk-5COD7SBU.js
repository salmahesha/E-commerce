import{$ as g,Ab as P,G as u,H as s,M as f,R as h,Z as v,_,aa as d,ab as S,ba as r,ca as o,da as p,ja as m,la as x,q as l,sa as D,tb as C,ua as a,ub as I,wa as c,wb as b,xb as L,yb as w,zb as y}from"./chunk-VARMCFBT.js";import"./chunk-4CLCTAJ7.js";function O(n,t){if(n&1&&p(0,"img",18),n&2){let e=x().$implicit;d("src",e,u)}}function E(n,t){n&1&&h(0,O,1,1,"ng-template",4)}var W=class n{customOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!0,navSpeed:700,autoplay:!0,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!1};_ActivatedRoute=l(S);_ProductsService=l(y);_CartService=l(C);Toastr=l(I);_WishListService=l(P);productID;productDetails;productsInWishList;ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:t=>{this.productID=t.get("p_id")}}),this._ProductsService.getSpecificProduct(this.productID).subscribe({next:t=>{this.productDetails=t.data,console.log(t.data)},error:t=>{console.log(t)}}),this._WishListService.getLoggedUserWishlist().subscribe({next:t=>{this._WishListService.whishListItems.next(t),this.productsInWishList=t.data}})}addToCart(t){this._CartService.AddProductToCart(t).subscribe({next:e=>{console.log(e),this._CartService.cartCount.next(e.numOfCartItems),this.Toastr.success(e.message,`${e.status}\u2764\uFE0F`,{})}})}addToWhishList(t){this._WishListService.addProductToWishlist(t).subscribe({next:e=>{console.log(e),this.Toastr.success(e.message,`${e.status}\u2764\uFE0F`,{}),this._WishListService.getLoggedUserWishlist().subscribe({next:i=>{this._WishListService.whishListItems.next(i),this.productsInWishList=i.data}})}})}isInWishList(t){for(let e of this.productsInWishList)if(t===e._id)return!0;return!1}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=f({type:n,selectors:[["app-p-details"]],decls:25,vars:8,consts:[[1,"container-auto"],[1,"flex","flex-wrap","items-center","p-14"],[1,"w-full","md:w-1/2","lg:w-1/4"],[3,"options"],["carouselSlide",""],[1,"w-full","px-10","md:w-1/2","lg:w-3/4"],[1,"text-2xl","font-light","my-3"],[1,"font-medium","my-3","text-gray-600"],[1,"my-3","text-emerald-800"],[1,"flex","flex-wrap","justify-between","items-center"],[1,"text-emerald-600"],[1,""],[1,"inline"],[1,"fas","fa-star","text-yellow-300"],[1,"flex","flex-wrap"],[1,"btn","w-[80%]","text-center",3,"click"],[1,"cursor-pointer","w-[20%]",3,"click"],[1,"fa","ms-32","fa-xl","fa-heart"],[3,"src"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"owl-carousel-o",3),_(4,E,1,0,null,4,v),o()(),r(6,"div",5)(7,"h3",6),a(8),o(),r(9,"p",7),a(10),o(),r(11,"h3",8),a(12),o(),r(13,"div",9)(14,"h2",10),a(15),o(),r(16,"div",11)(17,"h2",12),a(18),p(19,"i",13),o()()(),r(20,"div",14)(21,"button",15),m("click",function(){return i.addToCart(i.productDetails._id)}),a(22,"Add to Cart+"),o(),r(23,"button",16),m("click",function(){return i.addToWhishList(i.productDetails._id)}),p(24,"i",17),o()()()()()),e&2&&(s(3),d("options",i.customOptions),s(),g(i.productDetails.images),s(4),c(" ",i.productDetails.title," "),s(2),c(" ",i.productDetails.description," "),s(2),c(" ",i.productDetails.category.name," "),s(3),c(" ",i.productDetails.price," EGP "),s(3),c("",i.productDetails.ratingsAverage," "),s(6),D("text-red-500",i.isInWishList(i.productDetails._id)))},dependencies:[w,L,b],encapsulation:2})};export{W as PDetailsComponent};
